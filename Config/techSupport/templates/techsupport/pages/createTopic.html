{% extends "./baseTS.html" %}
{% block title %} Create Topic {% endblock title %}

{% block main %}
<section class="flex flex-col gap-4 p-2 bg-gray-200 md:p-4">
    <section class="flex flex-col items-center w-full md:full">
        {% include "main/components/pageHeader.html" with title="Create Topics" text_align="center" current_session=" " %}
        <form method="post" action="" class="flex flex-col self-center w-full gap-2 p-4 my-4 rounded-xl bg-gray-50 md:w-4/5">
            {% csrf_token %}
            <div class="flex flex-col gap-1">
                <label for="" class="text-sm font-bold">{{ form.name.label }}</label>
                {{ form.name }}
            </div>
            <div class="flex flex-col gap-1">
                <label for="" class="text-sm font-bold">{{ form.subject.label }}</label>
                {{ form.subject }}
            </div>
            <div class="flex flex-col gap-1">
                <label for="" class="text-sm font-bold">{{ form.description.label }}</label>
                {{ form.description }}
            </div>
            <div class="self-center w-1/3">
                {% include "main/components/saveButton.html" with title="Create Topic" %}
            </div>
        </form>
    </section>
    <section class="space-y-4">
        {% include "main/components/pageHeader.html" with title="Preview Topics" text_align="center" current_session=" " %}
        {% if topics %}
        <div class="flex flex-row items-center justify-between">
            <button id="dropdownDelayButton" data-dropdown-toggle="dropdownDelay" class="text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800" type="button">Filter Results <svg class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                </svg>
            </button>
            <!-- Dropdown menu -->
            <div id="dropdownDelay" class="z-10 hidden bg-green-700 divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-green-700">
                <ul class="py-2 text-sm text-boneWhite dark:text-boneWhite" aria-labelledby="dropdownDelayButton">
                    <li>
                        <a hx-get="{% url 'techsupport:createTopic' %}?filter=100#" hx-target="#topic-table-section" hx-swap="innerHTML" hx-indicator="#loading" class="block px-4 py-2 cursor-pointer hover:bg-green-500 dark:hover:bg-green-600 dark:hover:text-white">100 Results</a>
                    </li>
                    <li>
                        <a 
                        <a hx-get="{% url 'techsupport:createTopic' %}?filter=200#" hx-target="#topic-table-section" hx-swap="innerHTML" hx-indicator="#loading" class="block px-4 py-2 cursor-pointer hover:bg-green-500 dark:hover:bg-green-600 dark:hover:text-white">200 Results</a>
                    </li>
                    <li>
                        <a 
                        <a hx-get="{% url 'techsupport:createTopic' %}?filter=500#" hx-target="#topic-table-section" hx-swap="innerHTML" hx-indicator="#loading" class="block px-4 py-2 cursor-pointer hover:bg-green-500 dark:hover:bg-green-600 dark:hover:text-white">500 Results</a>
                    </li>
                    <li>
                        <a 
                        <a hx-get="{% url 'techsupport:createTopic' %}?filter=800#" hx-target="#topic-table-section" hx-swap="innerHTML" hx-indicator="#loading" class="block px-4 py-2 cursor-pointer hover:bg-green-500 dark:hover:bg-green-600 dark:hover:text-white">800 Results</a>
                    </li>
                    <hr>
                    <li>
                        <a href="{% url 'techsupport:createTopic' %}?filter=all#" class="block px-4 py-2 hover:bg-green-500 dark:hover:bg-green-600 dark:hover:text-white">All Results</a>
                    </li>
        
                </ul>
            </div>
        </div>
        <section id="topic-table-section" class="relative space-y-2">
            {% include "techsupport/components/topicsTable.html" %}
        </section>
        {% else %}
        {% include "main/components/resultNotFound.html" %}
        {% endif %}
    </section>
</section>
{% endblock main %}