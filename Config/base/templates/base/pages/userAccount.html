{% extends "main/pages/base.html" %}
{% load static %}
{% block title %} {{ request.user.getFullName }} Account {% endblock title %}

{% block content %}
<section class="flex flex-col items-center justify-start w-full gap-4 px-2 py-4 pb-8 mx-auto my-4 bg-gray-200 md:w-1/2 rounded-xl">
    <header>
        {% include "main/components/pageHeader.html" with title="Account Detail" current_session=" " %}
    </header>
    <form method="post" enctype="multipart/form-data"  class="w-full px-2 mb-4">
        {% csrf_token %}
        <section class="flex flex-col items-center w-full gap-4 px-4">
            <div class="flex flex-col items-center gap-2">
                {% include "main/components/previewImage.html" with width=40 height=40 %}
                <span>@{{request.user.username}}</span>
                <div class="w-full">
                    {{ form.avatar }}
                </div>
            </div>
        </section>
        <section class="w-full form-col-layout">
            <section class="flex flex-col gap-2 md:flex-row">
                <div class="flex flex-col justify-around w-full">
                    <label for="" class="font-bold">{{ form.username.label }} <span class="text-red-600">*</span></label>
                    <span class="helptext">{{ form.username.help_text }}</span>
                    <span class="errorlist">{{ form.username.errors }}</span>
                    {{ form.username }}
                </div>
                <div class="flex flex-col justify-around w-full">
                    <label for="" class="font-bold">{{ form.email.label }} <span class="text-red-600">*</span></label>
                    <span class="helptext">{{ form.email.help_text }}</span>
                    <span class="errorlist">{{ form.email.errors }}</span>
                    {{ form.email }}
                </div>
            </section>
            <section class="flex flex-col gap-2 md:flex-row">
                <div class="flex flex-col justify-around w-full">
                    <label for="" class="font-bold">{{ form.first_name.label }} <span class="text-red-600">*</span></label>
                    <span class="helptext">{{ form.first_name.help_text }}</span>
                    <span class="errorlist">{{ form.first_name.errors }}</span>
                    {{ form.first_name }}
                </div>
                <div class="flex flex-col justify-around w-full">
                    <label for="" class="font-bold">{{ form.last_name.label }} <span class="text-red-600">*</span></label>
                    <span class="helptext">{{ form.last_name.help_text }}</span>
                    <span class="errorlist">{{ form.last_name.errors }}</span>
                    {{ form.last_name }}
                </div>
                <div class="flex flex-col justify-around w-full">
                    <label for="" class="font-bold">{{ form.middle_name.label }} <span class="text-red-600">*</span></label>
                    <span class="helptext">{{ form.middle_name.help_text }}</span>
                    <span class="errorlist">{{ form.middle_name.errors }}</span>
                    {{ form.middle_name }}
                </div>
            </section>
        </section>
        <section class="flex flex-row items-center justify-center w-full mt-6">
            <div class="w-1/2 md:w-1/3">
                {% include "main/components/saveButton.html" with title="Save Changes" %}
            </div>
        </section>
    </form>
        <div class="w-1/2 md:w-1/3">
            {% include "base/components/changePasswordForm.html" %}
        </div>
</section>

<script>
    document.addEventListener("DOMContentLoaded", function(){
        let button = document.querySelector("#nav-user-account");
        button.style.color = "white";
    });
</script>
{% endblock content %}